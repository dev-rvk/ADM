import type { Consumable, ReadableStream } from "@yume-chan/stream-extra";
import { WritableStream } from "@yume-chan/stream-extra";
import type { Adb, AdbSocket } from "../../../adb.js";
import type { AdbSubprocessProtocol } from "./types.js";
export declare enum AdbShellProtocolId {
    Stdin = 0,
    Stdout = 1,
    Stderr = 2,
    Exit = 3,
    CloseStdin = 4,
    WindowSizeChange = 5
}
/**
 * Shell v2 a.k.a Shell Protocol
 *
 * Features:
 * * `stderr`: Yes
 * * `exit` exit code: Yes
 * * `resize`: Yes
 */
export declare class AdbSubprocessShellProtocol implements AdbSubprocessProtocol {
    #private;
    static isSupported(adb: Adb): boolean;
    static pty(adb: Adb, command: string): Promise<AdbSubprocessShellProtocol>;
    static raw(adb: Adb, command: string): Promise<AdbSubprocessShellProtocol>;
    get stdin(): WritableStream<Consumable<Uint8Array>>;
    get stdout(): ReadableStream<Uint8Array>;
    get stderr(): ReadableStream<Uint8Array>;
    get exit(): Promise<number>;
    constructor(socket: AdbSocket);
    resize(rows: number, cols: number): Promise<void>;
    kill(): import("@yume-chan/struct").ValueOrPromise<void>;
}
//# sourceMappingURL=shell.d.ts.map